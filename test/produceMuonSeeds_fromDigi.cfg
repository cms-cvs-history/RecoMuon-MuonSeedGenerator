process MuonSeedsProduction  = {
	source = PoolSource{
	untracked vstring fileNames ={'file:/afs/cern.ch/cms/Physics/muon/CMSSW/DT/samples/2006-06-07/muondigi.root'}
  		             untracked int32 maxEvents = -1
		  	     untracked uint32 debugVebosity = 10
                	     untracked bool   debugFlag     = true
        		   	}
	service = MessageLogger
	   {}

        include "MagneticField/Engine/data/volumeBasedMagneticField.cfi"

	## DT Geometry
        include "Geometry/MuonCommonData/data/muonIdealGeometryXML.cfi"
        include "Geometry/DTGeometry/data/dtGeometry.cfi"
	## CSC Geometry
	include "Geometry/CSCGeometry/data/cscGeometry.cfi"

#------------------------------------ DT ------------------------------------------------

	## _Vdrift1D_ ##
	include "RecoLocalMuon/DTRecHit/data/DTRecHit1DProducer_ParamDrift.cfi"
#	include "RecoLocalMuon/DTRecHit/data/DTRecHit1DProducer_LinearDrift.cfi"

	## _Vdrift2D_ ##
	include "RecoLocalMuon/DTSegment/data/DTSegment2DProducer_CombPatternReco2D_ParamDrift.cfi"
#	include "RecoLocalMuon/DTSegment/data/DTSegment2DProducer_CombPatternReco2D_LinearDrift.cfi"

	## _4DAlgo ##
	include "RecoLocalMuon/DTSegment/data/DTSegment4DProducer_CombPatternReco4D_ParamDrift.cfi"
#	include "RecoLocalMuon/DTSegment/data/DTSegment4DProducer_CombPatternReco4D_LinearDrift.cfi"
#    	include "RecoLocalMuon/DTSegment/data/DTSegment4DProducer_RefitAndCombine.cfi"

	## _all1DHits_ ##	
	# CAVEAT if all1DHits = false: 
	#	1- the file must contain the 2D segments
	#	2- defined only for CombinatorialPatternReco
#	replace DTSegment4DProducer.Reco4DAlgoConfig.AllDTRecHits = false

#------------------------------------ CSC -----------------------------------------------
	
	## 2D RecHit	
	include "RecoLocalMuon/CSCRecHit/data/cscRecHit2DProducer.cfi"

	## Segments
	include "RecoLocalMuon/CSCSegment/data/cscSegProducer.cfi"

#------------------------------------ Seed ----------------------------------------------

	## Seed generator
	include "RecoMuon/MuonSeedGenerator/data/MuonSeedProducer.cfi"

#----------------------------------------------------------------------------------------

	module out = PoolOutputModule {
				       untracked string fileName ="/tmp/MuonSeeds.root"
		  		      }

#------------------------------------ End ------------------------------------------
	path p = {DTRecHit1DProducer, DTSegment2DProducer, DTSegment4DProducer, rechitproducer,segmentproducer,MuonSeedProducer}

	endpath this_is_the_end = {out}
}
